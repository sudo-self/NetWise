import{_ as d,v as l,x as a,R as p,C as h,I as f,t as r}from"./dcdCVEkQ.js";const g={name:"FloatingButton",data(){return{showPopup:!1,buttonImage:"https://pub-c1de1cb456e74d6bbbee111ba9e6c757.r2.dev/EmojioneMonotoneOwl.png",isDragging:!1,offset:{x:0,y:0},startX:0,startY:0}},methods:{togglePopup(){this.showPopup=!this.showPopup},handleMouseDown(e){e.preventDefault();const t=e.type==="touchstart",n=t?e.touches[0].clientX:e.clientX,i=t?e.touches[0].clientY:e.clientY;this.startX=n,this.startY=i,this.offset.x=n-this.$refs.floatingButton.getBoundingClientRect().left,this.offset.y=i-this.$refs.floatingButton.getBoundingClientRect().top,document.addEventListener("mousemove",this.onDrag),document.addEventListener("touchmove",this.onDrag,{passive:!1}),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("touchend",this.handleMouseUp)},onDrag(e){e.preventDefault();const t=e.type==="touchmove"?e.touches[0].clientX:e.clientX,n=e.type==="touchmove"?e.touches[0].clientY:e.clientY,i=Math.abs(t-this.startX),u=Math.abs(n-this.startY);if(i>10||u>10){this.isDragging=!0;const o=this.$refs.floatingButton,s=t-this.offset.x,c=n-this.offset.y;o.style.left=`${s}px`,o.style.top=`${c}px`}},handleMouseUp(){document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("touchmove",this.onDrag),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("touchend",this.handleMouseUp),this.isDragging||this.togglePopup(),this.isDragging=!1}}},m={class:"tooltip-container"};function v(e,t,n,i,u,o){return r(),l("div",null,[a("div",m,[a("button",{class:"floating-button",onMousedown:t[0]||(t[0]=(...s)=>o.handleMouseDown&&o.handleMouseDown(...s)),onTouchstart:t[1]||(t[1]=(...s)=>o.handleMouseDown&&o.handleMouseDown(...s)),ref:"floatingButton",style:p({backgroundImage:`url(${u.buttonImage})`})},t[3]||(t[3]=[a("span",{class:"tooltip"},"Speed Test",-1)]),36)]),u.showPopup?(r(),l("div",{key:0,class:"popup",onClick:t[2]||(t[2]=h((...s)=>o.togglePopup&&o.togglePopup(...s),["self"]))},t[4]||(t[4]=[a("div",{class:"popup-content"},[a("iframe",{src:"https://Fast.com",class:"popup-iframe",frameborder:"0"})],-1)]))):f("",!0)])}const b=d(g,[["render",v],["__scopeId","data-v-4236f7ed"]]);export{b as default};
